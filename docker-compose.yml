version: "3.9"

services:
  caldera:
    build:
      context: .
      args:
        TZ: "UTC" # Timezone to use in container
        VARIANT: "full"        # full install: plugins, agents, docs, etc.
    image: caldera:latest
    command: --log DEBUG
    ports:
      - "8888:8888"
      - "8443:8443"
      - "7010:7010"
      - "7011:7011/udp"
      - "7012:7012"
      - "8853:8853"
      - "8022:8022"
      - "2222:2222"
    volumes:
      # keeps operation data & uploaded files between runs
      - caldera-data:/usr/src/app/data

volumes:
  caldera-data:
